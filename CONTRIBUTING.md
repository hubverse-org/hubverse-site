---
title: "Contributing to the hubverse site"
---

:::{.callout-important}

It is best to [view this page on GitHub](https://github.com/hubverse-org/hubverse-site/CONTRIBUTING.md) so that the links point to the correct pages.

:::

This website is built on GitHub with [quarto](https://quarto.org) and uses an
extended version of Pandoc's [markdown
syntax](https://quarto.org/docs/authoring/markdown-basics.html).

All pages will have links to edit the page, view source, and report an issue
on the side bar or the footer of the page. If you see a problem with a page, 
please click **Report an issue** and describe what should be fixed.

If you want to 

## How to add a testimonial

If you want to add a testimonial, thank you! There are two steps to adding a
testimonial:

1. add a 300x300 or larger image to the `includes/img` folder
1. add your information to [\_data/testimonials.qmd](_data/testimonials.qmd) and
   link your image with `/includes/img/name-of-img.png` (the first slash is
   important!)
2. update [index.qmd](index.qmd) with your testimonial.

You can read
[\_data/README.md](https://github.com/hubverse-org/hubverse-site/_data/README.md)
for more information about
formatting.

## How to add a hub or organization

To add a hub or organization to the website, you should edit
[\_data/active-hubs.qmd](_data/active-hubs.qmd).

You can read
[\_data/README.md](https://github.com/hubverse-org/hubverse-site/_data/README.md)
for more information about
formatting.

### Adding an organization

There is a template of the required fields at the top of the file. You can
duplicate this template and update it to match your organization.

The next step is to edit [community/hubs.qmd] and add your organization to the
list based on the slug you chose.

### Adding a hub to your organization

To add a hub, find your organization in the list and then add a hub with the
following fields:

```yaml
org:
  [...]
  hubs:
      - [...]
      - name: "Name of Hub"
        description: |
          A description that
          can span
          multiple lines
        contact: "hub-info@example.com"
        repo: "org/hub-name"
        license: "License Name (e.g MIT License)"
        # --- OPTIONAL ----
        aws: "aws-bucket-name"
        insights: https://reichlab.io/variant-nowcast-hub-dashboard/
        forecasts: https://reichlab.io/variant-nowcast-hub-dashboard/forecasts.html
        evals: https://reichlab.io/variant-nowcast-hub-dashboard/evals.html
```

#### Notes

1. the `repo` key must be a slug, not a URL.
1. the `forecasts` key points to a forecast visualization. If you do not have this, omit it.
1. the `evals` key points to a evaluations visualization. If you do not have this, omit it.
1. the `insights` key points to a page that contains insights that are not reflected in `forecasts` or `evals`
1. other hubs will have a `count` key that indicates the number of models that
   have been submitted. These counts are automatically udpated, so you may omit
   it if you wish.

## Software used

### Required software

The following software is required to work on this website

 - [quarto](https://quarto.org) builds the site
 - [git](https://git-scm.com) tracks changes

### Used in production

The following software is used in production for the [pre-computed
content](#pre-computed-content), but is not absolutely necessary to build the
website.

 - [Python](https://python.org) >= 3.9 is needed to generate the contributors page
 - BASH is needed to update the model counts
 - [gh](https://cli.github.com) is needed to fetch the data to update the model counts
 - [yq](https://github.com/mikefarah/yq/#install) is needed to update the model counts

### Optional software

 - Make is optional for generating the site via the Makefile.

## Pre-computed content

There are currently two pages that contain pre-computed content, which is 
automatically run on GitHub every time the site is built. **There is no need to
manually run these scripts.** This avoids unnecessary updates to the source code
with data that updates dynamically.

1. `community/contributors.md` is generated by
   [scripts/contributors.py](scripts/contributors.py). This script auto-generates a
   list of contributors to hubverse github repositories. It requires Python
   and was written by Alvaro J. Castro Rivadeneira and modified by Zhian Kamvar
   for this site.
2. `_data/active-hubs.qmd` is updated by
   [scripts/update-model-counts.sh](scripts/update-model-counts.sh). This
   script uses the GitHub API to update model counts for known hubs. It
   requires BASH, [yq](https://github.com/mikefarah/yq/#install), and
   [gh](https://cli.github.com) and was written by Zhian Kamvar.

Both of these are integrated into [`.github/workflows/publish.yml`](.github/workflows/publish.yml).

If this becomes too burdensome, these scripts could be all ported to python an run using [quarto project scripts](https://quarto.org/docs/projects/scripts.html).
