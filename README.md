## Hubverse Website

This is the hubverse website. The goals for this website are to
provide signposts for users who are new to the hubverse.

It is built with [quarto](https://quarto.org) and styled with
Bootstrap 5.

To render this locally, you can use:

```
quarto render
```

> [!NOTE]
>
> Some community pages have pre-computed content that you will not see in
> the site preview. If you are interested in pre-computing these pages, you
> can visit the [Makefile](#makefile) section

This is the first iteration of the website and there are a few conventions I'm
using heavily:

0. Everything that starts with an underscore is a utility and not intended to be
   actively rendered
1. I am using [quarto partials](http://pkg.garrickadenbuie.com/quarto-partials/)
   to give me templating. All of the templates live in `_partials/`. Examples
   of pages that use partials are `index.qmd` and `community/hubs.qmd`
2. To provide data for the partials, I am using [quarto
   includes](https://quarto.org/docs/authoring/includes.html). Because partials
   use the metadata (stuff at the top of the qmd file), but not variables, I am
   using a bit of a hack and saving complex metadata in separate, content-less
   files that start with an underscore. For example, both `community/hubs.qmd`
   and `index.qmd` use `community/_active-hubs.qmd` to populate the community
   list.
3. To avoid an overly complex setup, I am not using computations inside the
   quarto documents.

## Pre-computed content

There are currently two pages that contain pre-computed content:

1. community/contributors.md is generated by
   [scripts/community.py](scripts/community.py). This script auto-generates a
   list of contributors to Hubverse github repositories. It requires Python
   and was written by Alvaro J. Castro Rivadeneira and modified by Zhian Kamvar
   for this site.
2. community/_active-hubs.qmd is updated by
   [scripts/update-model-counts.sh](scripts/update-model-counts.sh). This
   script uses the GitHub API to update model counts for known hubs. It
   requires BASH, [yq](https://github.com/mikefarah/yq/#install), and
   [gh](https://cli.github.com) and was written by Zhian Kamvar.

Both of these are integrated into [`.github/workflows/publish.yml`](.github/workflows/publish.yml).

If this becomes too burdensome, these scripts could be all ported to python an run using [quarto project scripts](https://quarto.org/docs/projects/scripts.html).

## Makefile

This repository can be built locally with `make`:

```bash
make render
```

This will generate the [pre-computed content](#pre-computed-content) and run
`quarto render` to generate the static site. Note, that it does require Python,
bash, yq, and gh to work.

If you are using this, know that the changes to `community/contributors.md` are
temporary and you should not commit that file


